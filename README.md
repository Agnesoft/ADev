# ADev

![Build](https://github.com/Agnesoft/ADev/workflows/ADev/badge.svg)

Central development repository providing shared infrastructure to projects.

## Projects

* [ABenchmarks](projects/ABenchmarks.md) Collection of benchmarks from other projects.
* [ABuild](projects/ABuild/README.md) C++ automatic build system.
* [ACore](projects/ACore/README.md) C++ basic containers and utilities.

## Third Party Projects
* [Catch2](projects/Catch2/README.md) C++ a multi-paradigm test framework. Copyright (c) 2020 Two Blue Cubes Ltd. All rights reserved.
* [tiny-process-library](projects/tiny-process-library/README.md) C++ platform independent process library. Copyright (c) 2015-2020 Ole Christian Eidheim

## Continuous Integration (GitHub Actions)

#### Analysis
Static analysis using [Clang-Tidy](https://clang.llvm.org/extra/clang-tidy/). No warnings are required. Use `//NOLINT` to suprress irrelevant warnings.

#### Coverage
Test/code coverage using [LLVM Source Code Coverage Tools](https://clang.llvm.org/docs/SourceBasedCodeCoverage.html). 100 % line and 100 % function coverage is required. Region coverage can be any% due to `constexpr` code being handled incorrectly by LLVM Code Coverage Tools. 

*Code coverage report is part of the build artifacts.*

#### Documentation
HTML documentation generated by [Doxygen](https://www.doxygen.nl/index.html). Full documentation is required. Use `//! \cond IMPLEMENTAION_DETAIL` and `//! \endcond` to remove non-public code from documentation. 

*Documentation is part of the build artifacts.*

#### Formatting
Code formatting using [Clang-Format](https://clang.llvm.org/docs/ClangFormat.html). Compliant formatting is required. Use `// clang-format off` and `// clang-format on` to selectively suppress the automatic formatting.

#### Sanitize Address
Builds & run tests with [Clang's Address Sanitizer](https://clang.llvm.org/docs/AddressSanitizer.html). No detected issues are allowed.

#### Sanitize Memory
Builds & run tests with [Clang's Memory Sanitizer](https://clang.llvm.org/docs/MemorySanitizer.html). No detected issues are allowed.

#### Sanitize Undefined Behavior
Builds & run tests with [Clang's Undefined Behavior Sanitizer](https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html). No detected issues are allowed.

#### Windows MSVC x64 Build
Builds optimized (Release) 64-bit configuration on Windows using Visual Studio (MSVC). Runs tests. Runs benchmarks.

*Binaries are part of the build artifacts.*

#### Linux GCC x64 Build
Builds optimized (Release) 64-bit configuration on Linux (Ubuntu) using GCC. Runs tests. Runs benchmarks.

*Binaries are part of the build artifacts.*

#### macOS Clang x64 Build
Builds optimized (Release) 64-bit configuration on macOS using Clang. Runs tests. Runs benchmarks.

*Binaries are part of the build artifacts.*

#### Tests & Benchmarks
For each build configuration the tests are run 100x times to detect flaky tests. Therefore all tests must run as fast as possible.

For each build configuration the benchmarks are run. Every benchmark has preset requirements and they can fail if the performance of the benchmarked code deteriorates.
